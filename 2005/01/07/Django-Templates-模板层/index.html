<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.2">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.2">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.2">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.2" color="#222">
  <link rel="alternate" href="/atom.xml" title="97y" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css?v=7.4.2">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.2',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="模板层 Django中的HTML文件并不是一个简单的前端页面，他支持多种渲染方式； 比如Smart或是Jinja这样出名的模板语言引擎，默认django使用的是templates引擎来进行模板页面的渲染，这也被称为Django模板语言（DTL）">
<meta name="keywords" content="Django">
<meta property="og:type" content="article">
<meta property="og:title" content="Django-Templates-模板层">
<meta property="og:url" content="https:&#x2F;&#x2F;qzloo.cn&#x2F;2005&#x2F;01&#x2F;07&#x2F;Django-Templates-%E6%A8%A1%E6%9D%BF%E5%B1%82&#x2F;index.html">
<meta property="og:site_name" content="97y">
<meta property="og:description" content="模板层 Django中的HTML文件并不是一个简单的前端页面，他支持多种渲染方式； 比如Smart或是Jinja这样出名的模板语言引擎，默认django使用的是templates引擎来进行模板页面的渲染，这也被称为Django模板语言（DTL）">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-12-17T01:27:29.833Z">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://qzloo.cn/2005/01/07/Django-Templates-%E6%A8%A1%E6%9D%BF%E5%B1%82/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Django-Templates-模板层 | 97y</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">97y</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">愿你我既可以朝九晚五 又能够浪迹天涯</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://qzloo.cn/2005/01/07/Django-Templates-%E6%A8%A1%E6%9D%BF%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="仇阿龙呀!">
      <meta itemprop="description" content="后来我开始疲于应付人事 懒散之处多处可见得 唯独对你颇是上心">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="97y">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Django-Templates-模板层
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2005-01-07 19:53:32" itemprop="dateCreated datePublished" datetime="2005-01-07T19:53:32+08:00">2005-01-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Django/" itemprop="url" rel="index">
                    <span itemprop="name">Django</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>23k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>38 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="模板层"><a href="#模板层" class="headerlink" title="模板层"></a>模板层</h4><blockquote>
<p>Django中的HTML文件并不是一个简单的前端页面，他支持多种渲染方式；</p>
<p>比如<code>Smart</code>或是<code>Jinja</code>这样出名的模板语言引擎，默认django使用的是templates引擎来进行模板页面的渲染，这也被称为Django模板语言（DTL）</p>
</blockquote><a id="more"></a>
<ul>
<li>模板语言主要有<strong>模板变量</strong>和<strong>模板标签</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span> &#123;&#123; account &#125;&#125; <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>模板变量通过视图函数传递字典变量，字典的<code>key</code>值为对应模板变量名，对应<code>value</code>是模板变量实际被渲染的值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></span><br><span class="line">	content = &#123;<span class="string">'account'</span>:<span class="string">'test'</span>&#125;</span><br><span class="line">	<span class="keyword">return</span> render(request,html,content)</span><br></pre></td></tr></table></figure>

<ul>
<li>最终渲染结果</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span> test <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>模板引擎遇到这个变量，将会计算他，并且将结果覆盖；</p>
<p>如果视图函数中，并没有给这个模板变量赋值，也没有关系，模板会自动将这个``处理为一个空</p>
</blockquote>
<blockquote>
<p><strong>注意</strong>：模板变量名，只能以字母数字下划线构成，下划线不可以打头，并且也不可以使用表单符号组成模板变量</p>
</blockquote>
<h5 id="变量获取方式"><a href="#变量获取方式" class="headerlink" title="变量获取方式"></a>变量获取方式</h5><blockquote>
<p>当我们返回的是一个字符串数据，这应该是最简单的处理方式，前端模板会直接将它展示到页面中。</p>
<p>如果返回的是一个列表序列数据或者字典键值对数据，我们可以使用模板语言中的<code>.</code>符号来进行其中值的获取，当模板变量中有符号<code>.</code>的存在时，比如<code>content.key</code>他会按照如下顺序来进行查找：</p>
</blockquote>
<ol>
<li><p>字典查找：<code>content[key]</code></p>
</li>
<li><p>对应属性和方法查找：<code>content.key</code></p>
<ul>
<li><blockquote>
<p>注意：因为对应key值的查找优先级要低于属性方法，所以要尽量避免使用数据内置方法作为key值</p>
</blockquote>
</li>
</ul>
</li>
<li><p>序列索引方式查找：<code>content[index]</code></p>
</li>
</ol>
<h5 id="Python数据在模板"><a href="#Python数据在模板" class="headerlink" title="Python数据在模板"></a>Python数据在模板</h5><blockquote>
<p>Python常用数据有int，float，str，list，tuple，dict，set等</p>
<p>把他们都通过模板变量传递到模板页面试试</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></span><br><span class="line">    int_ = <span class="number">123</span></span><br><span class="line">    float_ = <span class="number">0.123</span> </span><br><span class="line">    str_ = <span class="string">'str'</span></span><br><span class="line">    list_ = [<span class="string">'l'</span>,<span class="string">'i'</span>,<span class="string">'s'</span>,<span class="string">'t'</span>]</span><br><span class="line">    tuple_ = (<span class="string">'t'</span>,<span class="string">'u'</span>,<span class="string">'p'</span>,<span class="string">'l'</span>,<span class="string">'e'</span>)</span><br><span class="line">    dict_ = &#123;<span class="string">"key"</span>:<span class="string">"value"</span>&#125;</span><br><span class="line">    set_ = &#123;<span class="string">'s'</span>,<span class="string">'e'</span>,<span class="string">'t'</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> render(request,<span class="string">"index.html"</span>,locals())</span><br></pre></td></tr></table></figure>

<ul>
<li><code>locals()</code>：该函数将当前作用域下的所有变量名和对应变量值组成字典，免去了我们构造存储字典的麻烦</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; int_ &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; float_ &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; str_ &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; list_ &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; tuple_ &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; dict_ &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; dict_.key &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; set_ &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>到了模板页面上，这些变量值其实也都像变成了字符串一样，直接展示</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">123</span><br><span class="line"></span><br><span class="line">0.123</span><br><span class="line"></span><br><span class="line">str</span><br><span class="line"></span><br><span class="line">['l', 'i', 's', 't']</span><br><span class="line"></span><br><span class="line">('t', 'u', 'p', 'l', 'e')</span><br><span class="line"></span><br><span class="line">&#123;'key': 'value'&#125;</span><br><span class="line"></span><br><span class="line">&#123;'e', 's', 't'&#125;</span><br></pre></td></tr></table></figure>

<h5 id="for-标签"><a href="#for-标签" class="headerlink" title="for 标签"></a>for 标签</h5><blockquote>
<p>使用模板中使用标签语言&#123;% for %&#125;和&#123;% endfor%&#125;，对视图函数传递的数据集进行遍历访问，比如上面传递的字符串，列表，元祖，字典，集合这样的数据</p>
<p>和普通模板变量不同，模板标签使用大括号百分号的组合&#123;% lag %&#125;，具有有一些特殊的功能性</p>
</blockquote>
<blockquote>
<p>模板中的标签&#123;% for %&#125;与Python中的for循环类似，要记得有闭合模板标签&#123;&#123; endfor &#125;&#125;</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for var in sequence %&#125;</span><br><span class="line">	&#123;&#123; var &#125;&#125;</span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>来把上面的数据进行访问</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for var in str_ %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; var &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br><span class="line">---------------------</span><br><span class="line">&#123;% for var in list_ %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; var &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br><span class="line">---------------------</span><br><span class="line">&#123;% for var in tuple_ %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; var &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br><span class="line">---------------------</span><br><span class="line">&#123;% for var in set_ %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; var &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>看到的效果和在Python中迭代访问的结果是差不多的，并且模板循环还会使对应的标签也进行循环</p>
</blockquote>
<blockquote>
<p>接下来来看字典，通过模板循环从字典中取出来的是字典的key值</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for var in dict_ %&#125;</span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; var &#125;&#125; &#123;&#123; dict_.var&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在for循环遍历访问字典的时候，不能再像Python语法里一样，直接通过迭代获取<code>key</code>之后通过</p>
<p><code>dict[key]</code>或是<code>dict.key</code>，拿到对应value；</p>
<p>模板变量不会把<code>var</code>解释成取到的对应<code>key</code>值，var只是作为了一个单纯的<code>var</code>字符串，除非在字典中，有<code>var</code>字符串做为字典的键值，否则是取不到的</p>
</blockquote>
<ul>
<li>正确的对字典中键值对进行获取的方式是通过内置字典<code>items</code>属性：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for key,value in dict_.items %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; key &#125;&#125; &#123;&#123; value&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意</strong>：模板语言中，不会出现索引超出范围的<code>IndexError</code>或者Key值不存在的<code>KeyError</code>，取不出任何东西则只是一个空</p>
</blockquote>
<ul>
<li>在&#123;% for %&#125;循环中，我们还可以使用很多有用的模板变量，方便我们控制循环</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for var in iterable %&#125;</span><br><span class="line">	&#123;&#123; forloop.counter &#125;&#125; <span class="comment">&lt;!--当前循环次数，从1开始计数 --&gt;</span></span><br><span class="line">	&#123;&#123; forloop.counter0 &#125;&#125; <span class="comment">&lt;!--当前循环次数，从0开始计数 --&gt;</span></span><br><span class="line">	&#123;&#123; forloop.revcounter &#125;&#125; <span class="comment">&lt;!--当前循环次数，从最大长度开始 --&gt;</span></span><br><span class="line">	&#123;&#123; forloop.revcounter0 &#125;&#125; <span class="comment">&lt;!--当前循环次数，从最大索引开始 --&gt;</span></span><br><span class="line">	&#123;&#123; forloop.first &#125;&#125; <span class="comment">&lt;!-- 判断是否为第一次循环 --&gt;</span></span><br><span class="line">	&#123;&#123; forloop.last &#125;&#125; <span class="comment">&lt;!-- 判断是否为第一次循环 --&gt;</span></span><br><span class="line">	&#123;&#123; forloop.parentloop &#125;&#125; <span class="comment">&lt;!-- 当循环嵌套时，访问上层循环 --&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>通过&#123;% empty %&#125;标签判断迭代对象是否为空</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for var in test_list %&#125;</span><br><span class="line">	&#123;&#123; var &#125;&#125;</span><br><span class="line">&#123;% empty %&#125;</span><br><span class="line">	空空如也</span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<h5 id="if-标签"><a href="#if-标签" class="headerlink" title="if 标签"></a>if 标签</h5><blockquote>
<p>可以通过&#123;% if %&#125;标签语法来进行模板变量的值判断；</p>
<p>语法如下</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if test_list %&#125;</span><br><span class="line">    列表不为空</span><br><span class="line">&#123;% elif test_dict %&#125;</span><br><span class="line">    列表为空，字典不为空</span><br><span class="line">&#123;% else %&#125;</span><br><span class="line">	列表字典均为空</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>并且<code>if</code>标签还支持<code>and</code>、<code>or</code>及<code>not</code>来进行变量的布尔判断</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if test_list and test_dict %&#125;</span><br><span class="line">    列表、字典均不为空</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if not test_list %&#125;</span><br><span class="line">    列表为空时才能满足IF条件判断</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if test_list or test_dict %&#125;</span><br><span class="line">    列表、字典某一个不为空</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if not test_list or test_dict %&#125;</span><br><span class="line">    列表为空或字典不为空</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if test_list and not test_dict %&#125;</span><br><span class="line">    列表不为空并且字典为空</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>也支持同时使用and及or语句，但是and的条件判断优先级要高于or语句</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if a or b and c %&#125;</span><br><span class="line">等同于</span><br><span class="line">&#123;% if a or (b and c) %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>if</code>标签还支持<code>==</code>、<code>!=</code>、<code>&gt;</code>、<code>&lt;</code>、<code>&gt;=</code>、<code>&lt;=</code>的判断用法</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if var == "1" %&#125;</span><br><span class="line">	这个值是"1"</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if var != "x" %&#125;</span><br><span class="line">	判断不相等成立</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if var <span class="tag">&lt; <span class="attr">100</span> %&#125;</span></span><br><span class="line"><span class="tag">    <span class="attr">var</span>大于<span class="attr">100</span></span></span><br><span class="line"><span class="tag">&#123;% <span class="attr">endif</span> %&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if var &gt;= 100 %&#125;</span><br><span class="line">    var大于100</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果判断的数据类型在后台传递到模板变量时具体数值类型为整型或浮点型而不是字符串;</p>
<p><strong>不需要在判断的时候加字符串的标识引号</strong></p>
</blockquote>
<ul>
<li>在模板语言中，不支持连续判断</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if 100 &gt; var &gt; 50 %&#125;</span><br><span class="line">    var大于50小于100</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>应该使用and语句写成这样</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if 100 &gt; var and var &gt; 50 %&#125;</span><br><span class="line">    var大于50小于100</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>除去运算符之外，<code>if</code>标签还支持<code>in</code>和<code>not in</code>的判断运算</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if 1 in test_list %&#125;</span><br><span class="line">    列表中有数字1</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<h5 id="其他常用标签"><a href="#其他常用标签" class="headerlink" title="其他常用标签"></a>其他常用标签</h5><blockquote>
<p>其实<code>django</code>官方提供了不只<code>if</code>和<code>for</code>这样的模板标签，还提供了很多可以让我们在模板页面上实现之前只能在后台进行逻辑实现的功能标签，比如以下：</p>
</blockquote>
<h6 id="comment-标签"><a href="#comment-标签" class="headerlink" title="comment 标签"></a>comment 标签</h6><blockquote>
<p><code>comment</code>标签常用来注释，在&#123;% comment %&#125;和&#123;% endcomment %&#125;中间的部分内容会被忽略；</p>
<p>这个标签不能嵌套使用</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% comment %&#125;</span><br><span class="line">	这里的内容会被忽略，相当于注释起来。</span><br><span class="line">&#123;% endcomment %&#125;</span><br></pre></td></tr></table></figure>

<h6 id="autoescape-标签"><a href="#autoescape-标签" class="headerlink" title="autoescape 标签"></a>autoescape 标签</h6><blockquote>
<p>默认情况下，为了安全起见，模板在接收到一个<code>HTML</code>标签或者<code>css</code>样式等具有实际意义的变量字符串时；</p>
<p>会对他进行转义，不会将这个字符串处理为HTML中实际的标签。一个<code>&lt;h1&gt;</code>标签到最后会被处理成：</p><h1>，这样浏览器就不会把他解释成一个标签的样式了<p></p>
</h1></blockquote>
<ul>
<li>转义规则</li>
</ul>
<table>
<thead>
<tr>
<th align="left">符号</th>
<th align="left">转义规则</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&lt;</td>
<td align="left"><code>&amp;lt;</code></td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left"><code>&amp;gt;</code></td>
</tr>
<tr>
<td align="left">‘（单引号）</td>
<td align="left"><code>&amp;#39;</code></td>
</tr>
<tr>
<td align="left">“（双引号）</td>
<td align="left"><code>&amp;quot;</code></td>
</tr>
<tr>
<td align="left">&amp;</td>
<td align="left"><code>&amp;amp;</code></td>
</tr>
</tbody></table>
<blockquote>
<p>那么有的时候，我们可能需要这样类似的HTML标签真正效果展示出来，</p>
<p>比如一个<code>&lt;h1&gt;</code>标签我们希望他真正展示出<code>h1</code>的样子，而不是一个朴素的<code>&lt;h1&gt;</code>字符串，那么就需要我们使用autoescape标签来进行防止转义处理</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str_ = "<span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是H1标签<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>"</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% autoescape on %&#125;</span><br><span class="line">    &#123;&#123; str_ &#125;&#125;</span><br><span class="line">&#123;% endautoescape %&#125;</span><br><span class="line">&#123;% autoescape off %&#125;</span><br><span class="line">    &#123;&#123; str_ &#125;&#125;</span><br><span class="line">&#123;% endautoescape %&#125;</span><br></pre></td></tr></table></figure>

<h6 id="cycle-标签"><a href="#cycle-标签" class="headerlink" title="cycle 标签"></a>cycle 标签</h6><blockquote>
<p><code>cycle</code>标签提供一些可迭代数据；</p>
<p>它的结构像是一个环，其中的数据通过空格分割，你可以使用任意数量的值，作为接下里每一次循环迭代的数据</p>
<p>其他包含在单引号 <code>&#39;</code>或者双引号 <code>&quot;</code>中的值被认为是可迭代字符串，如果没有被字符串引号包围的值被当作模版变量</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list_ = ['l','i','s','t'] # 视图定义的模板变量</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.red</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span><span class="selector-pseudo">:red</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.blue</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span><span class="selector-pseudo">:blue</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% for var in list_ %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"&#123;% cycle 'red' 'blue' %&#125;"</span>&gt;</span></span><br><span class="line">        &#123;&#123; var &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>很简单的就可以通过<code>cycle</code>标签进行循环中的样式切换啦</p>
<p>循环遍历出来的列表中每一个字都是换着颜色展示</p>
</blockquote>
<blockquote>
<p>某些时候，我们可能希望在使用一次<code>cycle</code>之后，接下来使用不是继续向后迭代取值，而是继续沿用这一次取到的值；</p>
<p>那么我们可以通过<code>as</code>语法给<code>cycle</code>标签取别名，在接下来需要沿用的地方直接使用别名作为模板变量即可，比如这样</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for var in list_ %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        &#123;% cycle 'red' 'blue' as style %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; style &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; style &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>每一次循环取到的cycle其中的值，都可以通过别名style在这次循环区域中重复利用而不递进</li>
</ul>
<blockquote>
<p>但是我们发现个问题，<code>as</code>语句本身在使用时也会造成对<code>cycle</code>中的数据进行一次取值，那有什么办法可以在第一次<code>as</code>语句出现时，我只做声明，而不是为了取值，<code>django</code>模板中提供了一个叫<code>silent</code>的属性，可以用来<code>as</code>命名时不进行取值动作</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% cycle 'red' 'blue' as style silent %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% cycle 'red' 'blue' as style silent %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; style &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; style &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">&#123;% cycle style %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; style &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">&#123;% cycle style %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; style &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; style &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>通过<code>silent</code>可以在初次定义时不进行取值，</p>
<p>接下来使用<code>cycle</code>所创建的迭代器，每次访问得到当前值，不会继续向后迭代；</p>
<p>如果希望取到下一个值，可以使用迭代器标签&#123;% style %&#125;，这次访问不会生产数据，但是会让迭代访问位置向后推进一次，在接下来&#123;&#123; style &#125;&#125;使用将得到下一个值</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">red</span><br><span class="line">red</span><br><span class="line">blue</span><br><span class="line">red</span><br><span class="line">red</span><br></pre></td></tr></table></figure>

<h6 id="ifchanged-标签"><a href="#ifchanged-标签" class="headerlink" title="ifchanged 标签"></a>ifchanged 标签</h6><blockquote>
<p><code>ifchanged</code>标签用在<code>for</code>标签中；</p>
<p>检测这一次迭代的值和上一次迭代的值是否有改变，可以搭配<code>else</code>标签使用，用来确定是没有改变；</p>
<p>检查标签&#123;% ifchanged %&#125;和&#123;% endifchanged %&#125;之间的数据在每一次迭代过程中是否发生改变</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list_ = [1,1,1,2,3]</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for var in list_ %&#125;</span><br><span class="line">	&#123;% ifchanged %&#125; </span><br><span class="line">		&#123;&#123; var &#125;&#125;</span><br><span class="line">	&#123;% else %&#125;</span><br><span class="line">		数据未发生变化</span><br><span class="line">	&#123;% endifchanged %&#125;</span><br><span class="line">	<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 </span><br><span class="line">数据未发生变化 </span><br><span class="line">数据未发生变化 </span><br><span class="line">2 </span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h6 id="firstof-标签"><a href="#firstof-标签" class="headerlink" title="firstof 标签"></a>firstof 标签</h6><blockquote>
<p><code>firstof</code>标签用来查找到标签内变量中第一个为<code>True</code>的参数并输出，如果标签内变量均为<code>False</code>，那么输出空</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% firstof 0 0 0 0 0 "哈哈哈" %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">哈哈哈</span><br></pre></td></tr></table></figure>

<h6 id="ifequal-标签"><a href="#ifequal-标签" class="headerlink" title="ifequal 标签"></a>ifequal 标签</h6><blockquote>
<p><code>ifequal</code>标签接收两个变量，用来判断这两个值是否相等，如果相等，展示对应内容</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% ifequal 1 "1" %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>两个值相等<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">&#123;% else %&#125; </span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>两个值不等<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">&#123;% endifequal %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>这都不用想的，俩类型都不一样</li>
</ul>
<h6 id="ifnotequal-标签"><a href="#ifnotequal-标签" class="headerlink" title="ifnotequal 标签"></a>ifnotequal 标签</h6><blockquote>
<p>上面的反义</p>
</blockquote>
<h6 id="now-标签"><a href="#now-标签" class="headerlink" title="now 标签"></a>now 标签</h6><blockquote>
<p>显示日期或时间，标签必须一个参数，用来指定当前时间日期的描述方式；</p>
<p>输出最终格式与项目时区及语言设置有关</p>
<p>参数是一个描述字符串，比较多，记着常用的就行</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">秒</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">u</td>
<td align="left">微妙，000000-999999</td>
</tr>
<tr>
<td align="left">s</td>
<td align="left">秒，00-59</td>
</tr>
<tr>
<td align="left">Z</td>
<td align="left">时区偏移量（UTC），单位为秒。-43200到43200</td>
</tr>
<tr>
<td align="left">U</td>
<td align="left">自Unix 时间以来的秒数。1970年1月1日00:00:00 UTC</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">分钟</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">i</td>
<td align="left">分钟，00-59</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">小时</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">g</td>
<td align="left">12小时格式，1-12’</td>
</tr>
<tr>
<td align="left">G</td>
<td align="left">24小时格式，00-23</td>
</tr>
<tr>
<td align="left">h</td>
<td align="left">12小时格式，00-12</td>
</tr>
<tr>
<td align="left">H</td>
<td align="left">24小时格式，00-23</td>
</tr>
<tr>
<td align="left">O</td>
<td align="left">时区差值，单位小时，如：Asia/Shanghai时区：+0800</td>
</tr>
<tr>
<td align="left">P</td>
<td align="left">当前几时几分，如：5:30 pm</td>
</tr>
<tr>
<td align="left">f</td>
<td align="left">当前几时几分，不包含上下午标示，如：5:30</td>
</tr>
<tr>
<td align="left">a</td>
<td align="left">小写字母：a.m.、p.m.</td>
</tr>
<tr>
<td align="left">A</td>
<td align="left">大写字母：AM、PM</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">月份</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">b</td>
<td align="left">月份英文字母的前三个表示，均小写。如：”aug”</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">这个月的第几天，01-31</td>
</tr>
<tr>
<td align="left">j</td>
<td align="left">这个月的第几天，1-31</td>
</tr>
<tr>
<td align="left">E</td>
<td align="left">当前时区月份英文单词全拼</td>
</tr>
<tr>
<td align="left">F</td>
<td align="left">当前月份英文单词全拼</td>
</tr>
<tr>
<td align="left">m</td>
<td align="left">第几月，01-12</td>
</tr>
<tr>
<td align="left">M</td>
<td align="left">月份英文字母的前三个表示，首字母大写。如：”Aug”</td>
</tr>
<tr>
<td align="left">n</td>
<td align="left">第几月，1-12</td>
</tr>
<tr>
<td align="left">N</td>
<td align="left">美联社月份缩写，如：’Jan.’，’Feb.’，’March’，’May’</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">星期</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">D</td>
<td align="left">星期几的英文单词前三个表示，首字母大写，如：’Fri’</td>
</tr>
<tr>
<td align="left">l</td>
<td align="left">星期几的英文单词全拼，如：’Friday’</td>
</tr>
<tr>
<td align="left">w</td>
<td align="left">星期几的数字，0（星期日）-6（星期六）</td>
</tr>
<tr>
<td align="left">W</td>
<td align="left">ISO-8601周数，今年第几周</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">年</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">L</td>
<td align="left">Bool值判断是否为闰年</td>
</tr>
<tr>
<td align="left">y</td>
<td align="left">第几年两位数字，如：2018年，返回18</td>
</tr>
<tr>
<td align="left">Y</td>
<td align="left">第几年，目前是：2018</td>
</tr>
<tr>
<td align="left">Z</td>
<td align="left">今天是今年的第几天</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">其他</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">c</td>
<td align="left">ISO 8601时间格式</td>
</tr>
<tr>
<td align="left">e</td>
<td align="left">当前时区名称：CST（美国-6:00，澳大利亚+9:30，中国+8:00，古巴-4:00）</td>
</tr>
<tr>
<td align="left">r</td>
<td align="left">RFC 5322格式化日期</td>
</tr>
<tr>
<td align="left">S</td>
<td align="left">一个月的第几天的英文序数后缀：’st’，’nd’，’rd’或’th’</td>
</tr>
<tr>
<td align="left">t</td>
<td align="left">当前月份的天数：28-31</td>
</tr>
<tr>
<td align="left">T</td>
<td align="left">当前时区</td>
</tr>
</tbody></table>
<ul>
<li>选出你想表达的时间，比如年月日，那么可以这样</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% now "Y-m-d" %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2019-03-26</span><br></pre></td></tr></table></figure>

<ul>
<li>除了以上自己组合的格式化字符，还有一些已经预定义好的字符串</li>
</ul>
<table>
<thead>
<tr>
<th align="left">字符串</th>
<th align="left">对应格式 时间</th>
</tr>
</thead>
<tbody><tr>
<td align="left">DATE_FORMAT</td>
<td align="left">‘N j, Y’ Feb. 5, 2018</td>
</tr>
<tr>
<td align="left">DATETIME_FORMAT</td>
<td align="left">‘N j, Y, P’ Feb. 4, 2013, 4 p.m.</td>
</tr>
<tr>
<td align="left">SHORT_DATE_FORMAT</td>
<td align="left">‘m/d/Y’ 12/31/2015</td>
</tr>
<tr>
<td align="left">SHORT_DATETIME_FORMAT</td>
<td align="left">‘m/d/Y P’ 12/31/2019 11:59 p.m.</td>
</tr>
</tbody></table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>DATE_FORMAT: &#123;% now "DATE_FORMAT" %&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>DATETIME_FORMAT: &#123;% now "DATETIME_FORMAT" %&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>SHORT_DATE_FORMAT: &#123;% now "SHORT_DATE_FORMAT" %&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>SHORT_DATETIME_FORMAT: &#123;% now "SHORT_DATETIME_FORMAT" %&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DATE_FORMAT: March 26, 2019</span><br><span class="line">DATETIME_FORMAT: March 26, 2019, 3:45 a.m.</span><br><span class="line">SHORT_DATE_FORMAT: 03/26/2019</span><br><span class="line">SHORT_DATETIME_FORMAT: 03/26/2019 3:45 a.m.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>最后<code>now</code>标签也支持<code>as</code>的用法，可以方便我们在模板中使用一个已经格式化好的输出</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% now "Y-m-d H:i:s" as show_time %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; show_time &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>发现时间输出不正确，记得查看<code>settings</code>文件下的<code>TIME_ZONE</code>配置</li>
</ul>
<h5 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h5><blockquote>
<p>除了模板标签可以帮助我们对数据或者进行逻辑处理</p>
<p><code>django</code>中还提供了一款工具叫做过滤器，过滤器也可以实现一些模板变量的运算，判断或是其他逻辑处理</p>
</blockquote>
<h6 id="add"><a href="#add" class="headerlink" title="add"></a>add</h6><blockquote>
<p>语法：&#123;&#123; var1|add:var2 &#125;&#125;</p>
</blockquote>
<blockquote>
<p><code>add</code>过滤器可以实现<code>var1</code>与<code>var2</code>的相加，并且在遇到其他相同数据类型的，比如列表时，加号还可以重载为拼接功能</p>
</blockquote>
<blockquote>
<p>过滤器首先会将数据转换成Int类型，进行相加，如果转换失败，则会尝试使用<code>Python</code>中的数据类型</p>
<p>列表、元祖等这样的数据类型来进行转换，并且执行对应类型的加法</p>
<p>如果都转换失败，那么结果为一个空字符串</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>add :&#123;&#123; value|add:10 &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>add :&#123;&#123; list_1|add:list_2 &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="capfirst"><a href="#capfirst" class="headerlink" title="capfirst"></a>capfirst</h6><blockquote>
<p>语法：&#123;&#123; var|capfirst &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将变量第一个字母变为大写，如果第一个字符不是字母，过滤器不生效</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>capfirst:&#123;&#123; "Abc"|capfirst &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>capfirst:&#123;&#123; "1abc"|capfirst &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="center"><a href="#center" class="headerlink" title="center"></a>center</h6><blockquote>
<p>语法：&#123;&#123; value|center:”length” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>使<code>value</code>在给定的<code>length</code>范围内居中</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>center: &#123;&#123; "abc"|center:"10" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h6><blockquote>
<p>语法：&#123;&#123; value|cut:”str” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>在<code>value</code>中移除所有<code>str</code></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>cut: &#123;&#123; "a*b*c"|cut:"*" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="date"><a href="#date" class="headerlink" title="date"></a>date</h6><blockquote>
<p>语法：&#123;&#123; value|date:SHORT_DATE_FORMAT” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>与&#123;% now %&#125;标签所使用格式字符一致；<code>value</code>为一个<code>datetime</code>对象</p>
<p>输出最终格式与项目时区及语言设置有关</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line">datetime = datetime.datetime.now()</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;date: &#123;&#123; datetime|date:&quot;H:i&quot; &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;date: &#123;&#123; datetime|date:&quot;Y/m/d&quot; &#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<h6 id="default"><a href="#default" class="headerlink" title="default"></a>default</h6><blockquote>
<p>语法：&#123;&#123; value|default:”默认值” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>如果<code>value</code>值为假，则取”默认值”，反之返回<code>value</code></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>default: &#123;&#123; 0|default:"这是展示的默认值" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>非空非0为真，0或空为假</p>
</blockquote>
<h6 id="default-if-none"><a href="#default-if-none" class="headerlink" title="default_if_none"></a>default_if_none</h6><blockquote>
<p>语法：&#123;&#123; value|default_if_none:”默认值” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>如果<code>value</code>值为<code>None</code>，则取”默认值”，反之返回<code>value</code></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>default_if_none: &#123;&#123; None|default_if_none:"value值为None" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>default_if_none: &#123;&#123; 0|default_if_none:"aaaa" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="dictsort"><a href="#dictsort" class="headerlink" title="dictsort"></a>dictsort</h6><blockquote>
<p>语法：&#123;&#123; value|dictsort:”attr” &#125;&#125;</p>
</blockquote>
<blockquote>
<p><code>value</code>为字典列表数据，列表中数据均为类字典数据：<code>[ {1:&#39;a&#39;}, {2:&#39;b&#39;}, ]</code></p>
<p>根据给定<code>attr</code>值进行排序，一般是<strong>从小到大</strong>的顺序</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sort_list_dict = [</span><br><span class="line">    &#123;<span class="string">'name'</span>: <span class="string">'小绿'</span>, <span class="string">'department'</span>: <span class="string">'Development'</span>, <span class="string">'age'</span>: <span class="number">32</span>&#125;,</span><br><span class="line">    &#123;<span class="string">'name'</span>: <span class="string">'小红'</span>, <span class="string">'department'</span>: <span class="string">'Leader'</span>, <span class="string">'age'</span>: <span class="number">21</span>&#125;,</span><br><span class="line">    &#123;<span class="string">'name'</span>: <span class="string">'小飞'</span>, <span class="string">'department'</span>: <span class="string">'Test'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;,</span><br><span class="line">    &#123;<span class="string">'name'</span>: <span class="string">'小落'</span>, <span class="string">'department'</span>: <span class="string">'Development'</span>, <span class="string">'age'</span>: <span class="number">15</span>&#125;,</span><br><span class="line">    &#123;<span class="string">'name'</span>: <span class="string">'大胖'</span>, <span class="string">'department'</span>: <span class="string">'Leader'</span>, <span class="string">'age'</span>: <span class="number">43</span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>dictsort: <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% for var in sort_list_dict|dictsort:"age" %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        &#123;&#123; var.name &#125;&#125; </span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<h6 id="dictsortreversed"><a href="#dictsortreversed" class="headerlink" title="dictsortreversed"></a>dictsortreversed</h6><blockquote>
<p>语法：&#123;&#123; value|dictsortreversed:”attr” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>与<code>dictsort</code>功能相同，但是排序方式与<code>dictsort</code>相反，从大到小</p>
</blockquote>
<h6 id="divisibleby"><a href="#divisibleby" class="headerlink" title="divisibleby"></a>divisibleby</h6><blockquote>
<p>语法：&#123;&#123; value|divisibleby:num &#125;&#125;</p>
</blockquote>
<blockquote>
<p>如果给定的<code>value</code>可以被<code>num</code>整除，返回<code>True</code>；反之，返回<code>False</code></p>
<p>常用来做整除判断</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>divisibleby: &#123;&#123; 8|divisibleby:2 &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="escape"><a href="#escape" class="headerlink" title="escape"></a>escape</h6><blockquote>
<p>语法：&#123;&#123; value|escape &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将value值转义输出；</p>
<p>可以在取消转义autoescape标签下，选择性的打开某些需要转义的数据</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% autoescape off %&#125;</span><br><span class="line">    &#123;&#123; str_|escape &#125;&#125;</span><br><span class="line">    &#123;&#123; str_ &#125;&#125;</span><br><span class="line">&#123;% endautoescape %&#125;</span><br></pre></td></tr></table></figure>

<h6 id="safe"><a href="#safe" class="headerlink" title="safe"></a>safe</h6><blockquote>
<p>语法：&#123;&#123; value|safe &#125;&#125;</p>
</blockquote>
<blockquote>
<p>取消转义，与&#123;% autoescape off %&#125;标签意义相同</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; str_|safe &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="safeseq"><a href="#safeseq" class="headerlink" title="safeseq"></a>safeseq</h6><blockquote>
<p>语法：&#123;&#123; value|safeseq &#125;&#125;</p>
</blockquote>
<blockquote>
<p>处理一个包含标签字符串的列表数据，简单的<code>safe</code>是不行的，因为<code>safe</code>过滤器会把内容先整体处理为字符串；而不是依次过滤序列中的数据，而<code>safeseq</code>过滤器则会依次处理序列中的每一个数据</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list_ = [</span><br><span class="line">    "<span class="tag">&lt;<span class="name">h1</span>&gt;</span>第一个<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>",</span><br><span class="line">    "<span class="tag">&lt;<span class="name">h2</span>&gt;</span>第二个<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>",</span><br><span class="line">    "<span class="tag">&lt;<span class="name">h3</span>&gt;</span>第三个<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>",</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; list_|safe|join:&quot;&quot; &#125;&#125;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">------------------</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&#123;&#123; list_|safeseq|join:&quot;&quot; &#125;&#125;</span><br></pre></td></tr></table></figure>

<h6 id="filesizeformat"><a href="#filesizeformat" class="headerlink" title="filesizeformat"></a>filesizeformat</h6><blockquote>
<p>语法：&#123;&#123; value|filesizeformat &#125;&#125;</p>
</blockquote>
<blockquote>
<p>格式化value值为人类可读的计算机存储单位。如：1 bytes、1.2 MB；</p>
<p>如果不是一个可以处理的数值类型，返回0。</p>
<p>最小单位为byte</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>filesizeformat : &#123;&#123; "1"|filesizeformat &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>filesizeformat : &#123;&#123; "3758331"|filesizeformat &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="first"><a href="#first" class="headerlink" title="first"></a>first</h6><blockquote>
<p>语法：&#123;&#123; value|first &#125;&#125;</p>
</blockquote>
<blockquote>
<p>返回序列数据<code>value</code>中的第一项</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>first : &#123;&#123; "abc"|first &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="last"><a href="#last" class="headerlink" title="last"></a>last</h6><blockquote>
<p>语法：&#123;&#123; value|last &#125;&#125;</p>
</blockquote>
<blockquote>
<p>返回序列数据<code>value</code>中的最后一项</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>last : &#123;&#123; "abc"|last &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="floatformat"><a href="#floatformat" class="headerlink" title="floatformat"></a>floatformat</h6><blockquote>
<p>语法：&#123;&#123; value|floatformat:”精度” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>设置浮点数<code>value</code>的精度，没有参数时，默认四舍五入<strong>保留小数点后一位</strong></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>floatformat : &#123;&#123; "2.2332"|floatformat:"2" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>floatformat : &#123;&#123; "2.2550"|floatformat:"2" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>floatformat : &#123;&#123; "2.0000"|floatformat:"2" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="join"><a href="#join" class="headerlink" title="join"></a>join</h6><blockquote>
<p>语法：&#123;&#123; value|join:”str” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将序列数据<code>value</code>通过<code>str</code>进行拼接</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>join : &#123;&#123; "abc"|join:"*" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="length-is"><a href="#length-is" class="headerlink" title="length_is"></a>length_is</h6><blockquote>
<p>语法：&#123;&#123; value|length_is:”num” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>判断序列<code>value</code>的长度是否为<code>num</code>，如果是，返回<code>True</code>，反之返回<code>False</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;length_is : &#123;&#123; &quot;abc&quot;|length_is:4 &#125;&#125;&lt;/p&gt;&lt;p&gt;length_is : &#123;&#123; &quot;abcd&quot;|length_is:4 &#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<h6 id="linebreaksbr"><a href="#linebreaksbr" class="headerlink" title="linebreaksbr"></a>linebreaksbr</h6><blockquote>
<p>语法：&#123;&#123; value|linebreaksbr &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将字符串<code>value</code>中的所有换行符<code>\n</code>转换为<code>HTML</code>换行符<code>&lt;br&gt;</code></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str_ = "abc\nbbb"</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>linebreaksbr : &#123;&#123; str_|linebreaksbr &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="linenumbers"><a href="#linenumbers" class="headerlink" title="linenumbers"></a>linenumbers</h6><blockquote>
<p>语法：&#123;&#123; value|linenumbers &#125;&#125;</p>
</blockquote>
<blockquote>
<p>显示<code>value</code>数据的行号，一般来说，是根据<code>value</code>字符串中的<code>\n</code>换行来确定每一行</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str_ = "abc\nbbb"</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>linenumbers :<span class="tag">&lt;<span class="name">br</span>&gt;</span> &#123;&#123; str_|linenumbers &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>linenumbers :<span class="tag">&lt;<span class="name">br</span>&gt;</span> &#123;&#123; str_|linenumbers|linebreaksbr &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="ljust"><a href="#ljust" class="headerlink" title="ljust"></a>ljust</h6><blockquote>
<p>语法：&#123;&#123; value|ljust:”num” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将字符串<code>value</code>按照给定宽度<code>num</code>左对齐</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ljust : &#123;&#123;"test"|ljust:"10" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>HTML中</code>空格是被忽略的，所以直观的我们并看不到这个过滤器的对齐效果</p>
<p>需要使用<code>&amp;nbsp</code>才可以在<code>HTML</code>中展示真正的空格效果，这个操作会在之后的自定义过滤器中为大家介绍</p>
</blockquote>
<h6 id="rjust"><a href="#rjust" class="headerlink" title="rjust"></a>rjust</h6><blockquote>
<p>语法：&#123;&#123; value|rjust:”num” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将字符串<code>value</code>按照给定宽度<code>num</code>右对齐</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>rjust : &#123;&#123; "test"|rjust:"10" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="lower"><a href="#lower" class="headerlink" title="lower"></a>lower</h6><blockquote>
<p>语法：&#123;&#123; value|lower &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将字符串<code>value</code>中的全部字符串小写</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>rjust : &#123;&#123; "Aa123Bb"|lower &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="upper"><a href="#upper" class="headerlink" title="upper"></a>upper</h6><blockquote>
<p>语法：&#123;&#123; value|upper &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将字符串<code>value</code>中的全部字符串大写</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>upper : &#123;&#123; "Aa123Bb"|upper &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="title"><a href="#title" class="headerlink" title="title"></a>title</h6><blockquote>
<p>语法：&#123;&#123; value|title &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将<code>value</code>字符串中每一个单词首字母大写，其余字符小写</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>title : &#123;&#123; "heLLO a12b world"|title &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="make-list"><a href="#make-list" class="headerlink" title="make_list"></a>make_list</h6><blockquote>
<p>语法：&#123;&#123; value|make_list &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将<code>value</code>转换为列表</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>make_list : &#123;&#123; "a1好a2a"|make_list &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">['a', '1', '好', 'a', '2', 'a']</span><br></pre></td></tr></table></figure>

<h6 id="random"><a href="#random" class="headerlink" title="random"></a>random</h6><blockquote>
<p>语法：&#123;&#123; value|random &#125;&#125;</p>
</blockquote>
<blockquote>
<p>返回<code>value</code>序列中的一个随机值</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>random : &#123;&#123; "12345"|random &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h6><blockquote>
<p>语法：&#123;&#123; value|slice:”start:stop:step” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>与<code>Python</code>中序列切片用法类似，取出一定范围内的数据</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>slice : &#123;&#123; "abcdef"|slice:"0:5" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>slice : &#123;&#123; "abcdef"|slice:"0:6" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>slice : &#123;&#123; "abcdef"|slice:"0:6:2" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="time"><a href="#time" class="headerlink" title="time"></a>time</h6><blockquote>
<p>语法：&#123;&#123; value|time:”time_format” &#125;&#125;</p>
</blockquote>
<blockquote>
<p>与<code>date</code>过滤器类似，但该过滤器只处理时、分、秒；</p>
<p>根据时间格式化字符输出时间，输出最终格式与项目时区及语言设置有关</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line">datetime = datetime.datetime.now()</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>time: &#123;&#123; datetime|time:"H:i" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>time: &#123;&#123; datetime|time:"Y/m/d" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="timesince"><a href="#timesince" class="headerlink" title="timesince"></a>timesince</h6><blockquote>
<p>语法：&#123;&#123; start_time|timesince:end_time &#125;&#125;</p>
</blockquote>
<blockquote>
<p>计算从<code>start_time</code>一直到<code>end_time</code>的时间间隔，<code>end_time</code>为可选，没有该值，截至从当前时间开始</p>
<p>分钟为返回最小单位</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">start_time = datetime.datetime(<span class="number">2019</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">15</span>)</span><br><span class="line">end_time = datetime.datetime(<span class="number">2019</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">17</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>time : &#123;&#123; start_time|timesince:end_time &#125;&#125;<span class="tag">&lt;/<span class="name">p</span></span></span><br><span class="line">&lt;p&gt;time : &#123;&#123; start_time|timesince &#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">time : 2 days, 2 hours</span><br><span class="line">time : 3 weeks, 2 days</span><br></pre></td></tr></table></figure>

<h6 id="urlencode"><a href="#urlencode" class="headerlink" title="urlencode"></a>urlencode</h6><blockquote>
<p>语法：&#123;&#123; value|urlencode &#125;&#125;</p>
</blockquote>
<blockquote>
<p>使用连接编码格式处理<code>value</code></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>urlencode : &#123;&#123; "http://example.com"|urlencode &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">urlencode : http%3A//example.com</span><br></pre></td></tr></table></figure>

<h6 id="urlize"><a href="#urlize" class="headerlink" title="urlize"></a>urlize</h6><blockquote>
<p>语法：&#123;&#123; value|urlize &#125;&#125;</p>
</blockquote>
<blockquote>
<p>使连接字符串<code>value</code>变为可点击的a标签连接</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>urlize : &#123;&#123; "http://example.com"|urlize &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>urlize : &#123;&#123; "http://example.com" &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="人性化过滤器"><a href="#人性化过滤器" class="headerlink" title="人性化过滤器"></a>人性化过滤器</h5><blockquote>
<p>除去上面所介绍的过滤器，django还提供了一个专门人性化处理数据的过滤器组件；</p>
<p>使用时，需要将<strong>‘django.contrib.humanize’</strong>添加到<code>settings.py</code>文件中的<code>INSTALLED_APPS</code>属性中</p>
<p>之后在模板页面加载&#123;% load humanize %&#125;就可以使用到<code>humanize</code>中的人性化过滤器</p>
</blockquote>
<h6 id="apnumber"><a href="#apnumber" class="headerlink" title="apnumber"></a>apnumber</h6><blockquote>
<p>语法：&#123;&#123; value|apnumber &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将整数转化为字符串，并按照语言设置返回对应的数字表示方式</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>intcomma : &#123;&#123; "3000"|intcomma &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>intcomma : &#123;&#123; "23300"|intcomma &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="intword"><a href="#intword" class="headerlink" title="intword"></a>intword</h6><blockquote>
<p>语法：&#123;&#123; value|intword &#125;&#125;</p>
</blockquote>
<blockquote>
<p>将一个大型数字转换成友好的文字表达形式，适合超过<code>100万</code>的数字</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>intword : &#123;&#123; "310100100"|intword &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="naturalday"><a href="#naturalday" class="headerlink" title="naturalday"></a>naturalday</h6><blockquote>
<p>语法：&#123;&#123; value|naturalday &#125;&#125;</p>
</blockquote>
<blockquote>
<p>返回value时间相对于今天。返回”今天”，”明天”或者”昨天”</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">today = datetime.datetime.now()</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>naturalday : &#123;&#123; today|naturalday &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="naturaltime"><a href="#naturaltime" class="headerlink" title="naturaltime"></a>naturaltime</h6><blockquote>
<p>语法：&#123;&#123; value|naturaltime &#125;&#125;</p>
</blockquote>
<blockquote>
<p>获得<code>value</code>与当前时间的时间间隔，并使用合适的文字来描述；</p>
<p>如果超过一天间隔，将会使用<code>timesice</code>过滤器格式</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start_time = datetime.datetime(2019, 3, 3, 15)</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>naturalday : &#123;&#123; start_time|naturaltime &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="自定义过滤器"><a href="#自定义过滤器" class="headerlink" title="自定义过滤器"></a>自定义过滤器</h5><blockquote>
<p>虽然有了django给我们提供的这么多方便的标签和过滤器；</p>
<p>但是有些时候，还不能达成我们想要的功能，那么就需要我们自定义标签和过滤器</p>
<p>django默认的过滤器及标签文件夹：</p>
<p> <code>django/template/defaultfilters.py</code></p>
<p> <code>django/template/defaulttags.py</code></p>
</blockquote>
<ol>
<li><p>在<strong>当前app下</strong>创建保存自定义标签及过滤器的文件夹，这个文件夹常命名为<code>templatetags</code></p>
</li>
<li><p>为了支持该文件夹可以作为模块导入，<code>templatetags</code>文件夹下创建<code>__init__.py</code>文件</p>
</li>
<li><p>创建过滤器<code>xxxx.py</code>文件，文件名自定义</p>
</li>
<li><p>过滤器文件头部必须包含名为<code>register</code>的全局变量，该变量是<code>template.Library</code>对象的实例</p>
</li>
<li><p>自定义过滤器为一个<code>Python</code>函数，参数可以是<code>1-2</code>个</p>
<ul>
<li>比如&#123;&#123; value|upper &#125;&#125;，过滤器函数名为<code>upper</code>，参数为<code>value</code></li>
</ul>
<blockquote>
<p>注意：过滤器参数可以是一个字符串，也可以使类似列表的其他类型，参数可以设置默认值。另外需要注意的是模板中无法进行异常处理，过滤器一旦出现错误，将会引发服务器错误</p>
</blockquote>
</li>
<li><p>最重要的一步，所有编写完成的过滤器函数，都要记得：使用<code>register.filter()</code>函数将其注册为<code>Library</code>实例</p>
<ul>
<li><p><code>register.filter(name=None, filter_func=None)</code>：注册过滤函数</p>
<blockquote>
<p><code>name</code>：一个字符串，表示过滤器在模板的使用名称</p>
<p><code>filter_func</code>：编写好的过滤器函数</p>
</blockquote>
</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># app/templatetags/my_filter.py</span></span><br><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> template</span><br><span class="line">register = template.Library()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">return_length</span><span class="params">(value)</span>:</span></span><br><span class="line">    <span class="comment">#  返回变量长度</span></span><br><span class="line">    <span class="keyword">return</span> len(str(value))</span><br><span class="line"></span><br><span class="line">register.filter(<span class="string">"return_length"</span>,return_length)</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; 'abc'|return_length &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 返回3 --&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>此外：除了我们使用<code>register.filter</code>函数来对过滤器函数进行注册；</p>
<p>还可以将<code>register.filter</code>作为装饰器<code>@register.filter</code>来使用，可以更加方便的进行过滤器函数注册</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> template</span><br><span class="line">register = template.Library()</span><br><span class="line"></span><br><span class="line"><span class="meta">@register.filter(name="delete_space")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_space</span><span class="params">(value)</span>:</span></span><br><span class="line">    <span class="comment"># 去掉value数据中所有空格</span></span><br><span class="line">	<span class="keyword">return</span> value.replace(<span class="string">" "</span>,<span class="string">""</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>但是，这里有个问题，我们的过滤器经常期望处理的数据类型是一个字符串，但是以上过滤器如果在对数字类型进行处理时，会引发<code>&#39;int&#39; object has no attribute &#39;replace&#39;</code>，这样的错误，那么需要我们对传入过滤器的value参数进行字符串转变的处理</p>
<p>解决办法也很简单，大家可能想到了直接用字符串工厂函数去转换传入参数、但是这里有更加优雅安全的方式，通过<code>django.template.defaultfilter</code>模块下的<code>stringfilter</code>装饰器来对过滤器函数进行装饰</p>
<p><code>stringfilter</code><strong>这个装饰器可以帮助我们把传入过滤器函数的参数转换为它的字符串值</strong></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.template.defaultfilters <span class="keyword">import</span> stringfilter</span><br><span class="line"><span class="meta">@register.filter(name="delete_space")</span></span><br><span class="line"><span class="meta">@stringfilter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_space</span><span class="params">(value)</span>:</span></span><br><span class="line">	<span class="keyword">return</span> value.replace(<span class="string">" "</span>,<span class="string">""</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>现在过滤器函数的<code>value</code>参数将会先被装饰器<strong>@stringfilter</strong>处理成对应的字符串类型之后</p>
<p>才会被作为参数传递到过滤器函数<code>delete_space</code>中</p>
<p>接下来通过这个过滤器处理一个<strong>非字符串类型</strong>也就不会在报错了</p>
</blockquote>
<h5 id="自定义标签"><a href="#自定义标签" class="headerlink" title="自定义标签"></a>自定义标签</h5><blockquote>
<p>标签要实现的功能可以比过滤器更加强大，可以支持接收更多参数！</p>
</blockquote>
<blockquote>
<p>基本使用语法 &#123;% tag “arg1” “arg2” “arg3” … %&#125;</p>
</blockquote>
<blockquote>
<p>很多模板标签可以接收多个参数，字符串或者模板变量；并且可以将这些变量经过一系列处理之后返回一个字符串这样的标签我们可以通过django为我们提供的<code>simple_tag()</code>注册函数来进行编写，该函数来自于<code>django.template.Library</code></p>
</blockquote>
<blockquote>
<p>同样的，编写自定义标签函数完成之后，也需要进行注册，也可以直接将<code>@simple_tag</code>作为装饰器使用注册</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> template</span><br><span class="line"></span><br><span class="line">register = template.Library()</span><br><span class="line"></span><br><span class="line"><span class="meta">@register.simple_tag(name="myUpper")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myUpper</span><span class="params">(value)</span>:</span></span><br><span class="line">    <span class="comment"># 将模板变量处理为纯大写的模板标签</span></span><br><span class="line">    <span class="keyword">return</span> str(value).upper()</span><br><span class="line"><span class="comment"># register.simple_tag(name="myUpper",func=myUpper)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>simple_tag()</code>函数在这里帮助我们做了如下工作：</p>
<ul>
<li><p>检查标签函数所需参数数量</p>
</li>
<li><p>截掉参数中的引号，确保函数接收到的是一个普通的字符串</p>
</li>
<li><p>截掉参数中的引号，确保函数接收到的是一个普通的字符串</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>如果我们希望标签函数可以访问到当前模板中其他全部的模板变量值；</p>
<p>那么可以使用simple_tag(takes_context=True)参数</p>
<p>比如通过视图函数向模板返回了</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">value = '哈哈哈哈哈哈'</span><br><span class="line">return render(request, template, locals())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以在自定义标签处通过<code>simple_tag(takes_context=True)</code>来进行视图函数中<code>content</code>值的获取；</p>
<p>但是还要注意的是，此时自定义标签函数参数位置第一个必须为<code>context</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@register.simple_tag(takes_context=True)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_context</span><span class="params">(context)</span>:</span></span><br><span class="line">	value = context.get(<span class="string">"value"</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"获取到的模板变量:%s"</span> % value</span><br></pre></td></tr></table></figure>

<blockquote>
<p>模板页面直接使用</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;% get_context %&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="模板继承"><a href="#模板继承" class="headerlink" title="模板继承"></a>模板继承</h5><blockquote>
<p>关于模板，经常重复的编写页面是一个非常痛苦的事情；</p>
<p>那么在<code>django</code>中也提供了一种非常舒服方便的方法，可以使新的模板页面来继承自一个已编写好的<code>html</code>页面实现复用，免去重复工作；这就是模板继承</p>
</blockquote>
<h6 id="block"><a href="#block" class="headerlink" title="block"></a>block</h6><blockquote>
<p>页面的继承不能说全部都拿过来，有时候只需要已经编写好的页面某些部分</p>
<p>其他部分提前挖好一些坑，去填充不同内容</p>
<p>挖坑可以通过模板中的&#123;% block %&#125;标签</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block name %&#125;</span><br><span class="line">	预留区域，可供未来继承的页面覆盖</span><br><span class="line">&#123;% endblock name %&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>设计一个可以被继承的父模板，我们经常叫做base.html</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span></span><br><span class="line">        &#123;% block title %&#125;</span><br><span class="line">        父模板标题</span><br><span class="line">        &#123;% endblock title %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    &#123;% block top %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>父模板<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    &#123;% endblock top %&#125;</span><br><span class="line"></span><br><span class="line">    &#123;% block content %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>这里是父模板页面内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endblock content %&#125; <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>在这个页面中，我们设计了三个<code>block</code>标签块<code>title</code>、<code>content</code>以及<code>top</code>；</p>
<p>每一个块都可以被之后继承的页面所覆盖新的内容</p>
</blockquote>
<ul>
<li>继承页面使用&#123;% extends “base.html” %&#125;标签进行页面的继承，现在编写一个test.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends "base.html" %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block title %&#125;</span><br><span class="line">    子模版</span><br><span class="line">&#123;% endblock title %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block top %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>子模板<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">&#123;% endblock top %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是子模版<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endblock content %&#125; <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% block other %&#125;</span><br><span class="line">    哈哈哈哈哈</span><br><span class="line">    这里的内容不会显示</span><br><span class="line">    父模板并没有这样的block块</span><br><span class="line">&#123;% endblock other%&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>除了对应<code>block</code>标签内容被子模板修改，其余内容均默认使用父模板中的</p>
</blockquote>
<ul>
<li><p>注意：</p>
<ul>
<li><p>如果父模板内有模板变量或者其他上下文数据，不会被子模板继承，但是子模板可以为父模板内的模板数据赋值</p>
</li>
<li><p>如果需模板中具有模板变量等上下文数据，只有放到<code>block</code>标签块内数据才会显示</p>
</li>
<li><p>子模板中修改父模板中并不存在的block块，子模板不会显示</p>
</li>
</ul>
</li>
</ul>
<h5 id="模板加载"><a href="#模板加载" class="headerlink" title="模板加载"></a>模板加载</h5><blockquote>
<p>除了&#123;% extends %&#125;与&#123;% block %&#125;结合的方式可以继承一个父模板</p>
<p>我们还可以使用&#123;% include %&#125;一个新的标签进行模板加载，<code>include</code>标签使用语法与<code>extends</code>类似</p>
</blockquote>
<h6 id="include"><a href="#include" class="headerlink" title="include"></a>include</h6><blockquote>
<p>现在新建一个html文件，名为<code>li.html</code>，用来写一个简单的列表</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>吃饭<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>睡觉<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>玩耍<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; var &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>在需要导入的页面中使用&#123;% include “li.html” %&#125;进行引入</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends "base.html" %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block title %&#125;</span><br><span class="line">    子模版</span><br><span class="line">&#123;% endblock title %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block top %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>子模板<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">&#123;% endblock top %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是子模版<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% include "li.html" %&#125;</span><br><span class="line">&#123;% endblock content %&#125; <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>被<code>include</code>引入的新模板，会在渲染完成之后添加到父模板所给定的对应<code>block</code>块中</p>
</blockquote>
<blockquote>
<p>与<code>extends</code>不同，<code>extends</code>常用来控制整个模板的样式和效果；</p>
<p>而<code>include</code>更加细化，可以在一个模板内包含其他多个模板</p>
<p><strong>如果include所包含的模板页面中有模板变量需要被填充，会在包含include的页面下进行渲染</strong></p>
<p>这种行为也好像是，把一个新的渲染好的<code>html</code>页面嵌入了进来一样</p>
</blockquote>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>仇阿龙呀!
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://qzloo.cn/2005/01/07/Django-Templates-%E6%A8%A1%E6%9D%BF%E5%B1%82/" title="Django-Templates-模板层">https://qzloo.cn/2005/01/07/Django-Templates-%E6%A8%A1%E6%9D%BF%E5%B1%82/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/null" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <div>
        
          <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>
        
      </div>

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Django/" rel="tag"># Django</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
                <a href="/2005/01/05/Django-Urls-%E8%B7%AF%E7%94%B1%E5%B1%82/" rel="next" title="Django-Urls-路由层">
                  <i class="fa fa-chevron-left"></i> Django-Urls-路由层
                </a>
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
                <a href="/2010/01/01/Zabbix%E6%A6%82%E5%BF%B5/" rel="prev" title="Zabbix(1)：Zabbix概念">
                  Zabbix(1)：Zabbix概念 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#模板层"><span class="nav-text">模板层</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#变量获取方式"><span class="nav-text">变量获取方式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Python数据在模板"><span class="nav-text">Python数据在模板</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#for-标签"><span class="nav-text">for 标签</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#if-标签"><span class="nav-text">if 标签</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#其他常用标签"><span class="nav-text">其他常用标签</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#comment-标签"><span class="nav-text">comment 标签</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#autoescape-标签"><span class="nav-text">autoescape 标签</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#null"><span class="nav-text">，这样浏览器就不会把他解释成一个标签的样式了
</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#cycle-标签"><span class="nav-text">cycle 标签</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#ifchanged-标签"><span class="nav-text">ifchanged 标签</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#firstof-标签"><span class="nav-text">firstof 标签</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#ifequal-标签"><span class="nav-text">ifequal 标签</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#ifnotequal-标签"><span class="nav-text">ifnotequal 标签</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#now-标签"><span class="nav-text">now 标签</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#过滤器"><span class="nav-text">过滤器</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#add"><span class="nav-text">add</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#capfirst"><span class="nav-text">capfirst</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#center"><span class="nav-text">center</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#cut"><span class="nav-text">cut</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#date"><span class="nav-text">date</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#default"><span class="nav-text">default</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#default-if-none"><span class="nav-text">default_if_none</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#dictsort"><span class="nav-text">dictsort</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#dictsortreversed"><span class="nav-text">dictsortreversed</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#divisibleby"><span class="nav-text">divisibleby</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#escape"><span class="nav-text">escape</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#safe"><span class="nav-text">safe</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#safeseq"><span class="nav-text">safeseq</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#filesizeformat"><span class="nav-text">filesizeformat</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#first"><span class="nav-text">first</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#last"><span class="nav-text">last</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#floatformat"><span class="nav-text">floatformat</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#join"><span class="nav-text">join</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#length-is"><span class="nav-text">length_is</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#linebreaksbr"><span class="nav-text">linebreaksbr</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#linenumbers"><span class="nav-text">linenumbers</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#ljust"><span class="nav-text">ljust</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#rjust"><span class="nav-text">rjust</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#lower"><span class="nav-text">lower</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#upper"><span class="nav-text">upper</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#title"><span class="nav-text">title</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#make-list"><span class="nav-text">make_list</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#random"><span class="nav-text">random</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#slice"><span class="nav-text">slice</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#time"><span class="nav-text">time</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#timesince"><span class="nav-text">timesince</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#urlencode"><span class="nav-text">urlencode</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#urlize"><span class="nav-text">urlize</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#人性化过滤器"><span class="nav-text">人性化过滤器</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#apnumber"><span class="nav-text">apnumber</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#intword"><span class="nav-text">intword</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#naturalday"><span class="nav-text">naturalday</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#naturaltime"><span class="nav-text">naturaltime</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#自定义过滤器"><span class="nav-text">自定义过滤器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#自定义标签"><span class="nav-text">自定义标签</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#模板继承"><span class="nav-text">模板继承</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#block"><span class="nav-text">block</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#模板加载"><span class="nav-text">模板加载</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#include"><span class="nav-text">include</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="仇阿龙呀!"
    src="/images/author.jpg">
  <p class="site-author-name" itemprop="name">仇阿龙呀!</p>
  <div class="site-description" itemprop="description">后来我开始疲于应付人事 懒散之处多处可见得 唯独对你颇是上心</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/QiuZeLong" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;QiuZeLong" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:13472054059@163.com" title="E-Mail &amp;rarr; mailto:13472054059@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/null" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
  <div class="beian"><a href="http://www.beian.miit.gov.cn/" rel="noopener" target="_blank">京ICP备19052620号-1 </a>
      <img src="/images/beian.png" style="display: inline-block;"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13012102000080" rel="noopener" target="_blank">冀公网安备 13012102000080号 </a>
  </div>

<div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">仇阿龙</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">1:51</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>












        
      </div>
    </footer>
  </div>

  
  
  <script color='0,0,0' opacity='0.5' zIndex='-1' count='150' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.2"></script><script src="/js/motion.js?v=7.4.2"></script>
<script src="/js/schemes/pisces.js?v=7.4.2"></script>
<script src="/js/next-boot.js?v=7.4.2"></script>



  






  <script src="/js/local-search.js?v=7.4.2"></script>













  

  

  


</body>
</html>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>